<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home ¬∑ FRACDemand.jl</title><meta name="title" content="Home ¬∑ FRACDemand.jl"/><meta property="og:title" content="Home ¬∑ FRACDemand.jl"/><meta property="twitter:title" content="Home ¬∑ FRACDemand.jl"/><meta name="description" content="Documentation for FRACDemand.jl."/><meta property="og:description" content="Documentation for FRACDemand.jl."/><meta property="twitter:description" content="Documentation for FRACDemand.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>FRACDemand.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Quick-Start"><span>Quick Start</span></a></li><li><a class="tocitem" href="#Features"><span>Features</span></a></li><li><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li><li><a class="tocitem" href="#Passing-results-to-PyBLP"><span>Passing results to PyBLP</span></a></li></ul></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jamesbrandecon/FRACDemand.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/jamesbrandecon/FRACDemand.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="FRACDemand.jl"><a class="docs-heading-anchor" href="#FRACDemand.jl">FRACDemand.jl</a><a id="FRACDemand.jl-1"></a><a class="docs-heading-anchor-permalink" href="#FRACDemand.jl" title="Permalink"></a></h1><p><a href="https://jamesbrand.github.io/FRACDemand.jl/"><img src="https://img.shields.io/badge/docs-latest-blue" alt="Documentation"/></a></p><p>This package is meant to make the estimation of mixed logit models (with market level data) and the resulting price elasticities trivially easy. The package estimates an approximation of these models which was developed by <a href="https://economics.sas.upenn.edu/system/files/2022-04/Econometrics%2004112022.pdf">Salanie and Wolak (2022)</a>.</p><p>In many cases, the approximation offered by the package is sufficient to estimate price elasticities reasonably accurately. In other cases, results from FRAC.jl may be used as a starting point for other packages, such as <a href="https://pyblp.readthedocs.io/en/stable/">PyBLP</a>. The estimation results are saved in a dictionary for ease of reading and saving.   </p><pre><code class="language-julia hljs">julia&gt; problem.estimated_parameters
Dict{Any, Any} with 4 entries:
  :Œ≤_x       =&gt; 1.00785
  :œÉ2_x      =&gt; -0.0500151
  :Œ≤_prices  =&gt; -1.0184
  :œÉ2_prices =&gt; 0.0839573</code></pre><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs"># From the REPL:
] add FRAC</code></pre><h2 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h2><pre><code class="language-julia hljs">using FRACDemand, DataFrames, CSV

# 1. Define your problem
problem = define_problem(
  data          = your_df,               
  linear        = [&quot;prices&quot;, &quot;x&quot;],
  nonlinear     = [&quot;prices&quot;, &quot;x&quot;],
  fixed_effects = [&quot;market_ids&quot;],
  se_type       = &quot;bootstrap&quot;
)

# 2. Estimate parameters
estimate!(problem)

# 3. Compute price elasticities
price_elasticities!(problem; monte_carlo_draws=100)
own_df = own_elasticities(problem)</code></pre><h2 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h2><ul><li>Unconstrained IV‚Äëstyle FRAC approximation  </li><li>GMM‚Äëbased constrained estimation  </li><li>Support for random coefficients &amp; covariance terms  </li><li>Flexible standard errors: simple, robust, cluster, bootstrap  </li><li>Built‚Äëin Monte Carlo price elasticities  </li><li>Easy export to CSV / PyBLP workflows  </li></ul><h2 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h2><ul><li>üìñ <a href="usage/">Usage Example</a>  </li><li>‚öôÔ∏è <a href="api/">API Reference</a>  </li><li>üîß <a href="examples/">Examples Gallery</a>  </li><li>‚ùó <a href="troubleshooting/">Troubleshooting</a>  </li><li>üìö <a href="theory/">Theory</a>   </li></ul><h2 id="Passing-results-to-PyBLP"><a class="docs-heading-anchor" href="#Passing-results-to-PyBLP">Passing results to PyBLP</a><a id="Passing-results-to-PyBLP-1"></a><a class="docs-heading-anchor-permalink" href="#Passing-results-to-PyBLP" title="Permalink"></a></h2><p>You should be able to save the results as a .csv file using the CSV package. The results can then be loaded in python and passed directly to PyBLP. The only caveat is that my understanding is that people don&#39;t like to use unicode characters in python as much as is done in Julia, so you may want to rename the results. An example workflow below:   Save results in Julia:</p><pre><code class="language-julia hljs">frac_results = problem.estimated_parameters;
# .... rename dictionary entries as desired
CSV.write(&quot;frac_results.csv&quot;, frac_results)</code></pre><p>Load in Python:</p><pre><code class="language-python hljs">import pyblp 
import pandas as pd
import numpy as np 

frac_results = pd.read_csv(&quot;frac_results.csv&quot;, header = False)
frac_sigma = np.zeros((2,2))
frac_sigma[0,0] = np.sqrt(frac_results[&quot;sigmaSquared_x&quot;])
frac_sigma[1,1] = np.sqrt(frac_results[&quot;sigmaSquared_prices&quot;])

X1 = pyblp.Formulation(&quot;1 + x + prices&quot;)
X2 = pyblp.Formulation(&quot;0 + x + prices&quot;)

problem = pyblp.Problem((X1, X2), product_data)

problem.solve(sigma = frac_sigma)</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Saturday 24 May 2025 23:09">Saturday 24 May 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
